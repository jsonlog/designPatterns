<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Frameset//EN""http://www.w3.org/TR/REC-html40/frameset.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc on Wed Dec 06 22:06:39 EST 2000 -->
<TITLE>
bpwj: Class  Gateway
</TITLE>
<LINK REL ="stylesheet" TYPE="text/css" HREF="../../stylesheet.css" TITLE="Style">
</HEAD>
<BODY BGCOLOR="white">

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_top"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT ID="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT ID="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/Gateway.html"><FONT ID="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT ID="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-files/index-1.html"><FONT ID="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT ID="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
Building Parsers with Java</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../sjm/engine/Fact.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../sjm/engine/Not.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Gateway.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY: &nbsp;INNER&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL: &nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
sjm.engine</FONT>
<BR>
Class  Gateway</H2>
<PRE>
java.lang.Object
  |
  +--<A HREF="../../sjm/engine/Structure.html">sjm.engine.Structure</A>
        |
        +--<B>sjm.engine.Gateway</B>
</PRE>
<DL>
<DT><B>Direct Known Subclasses:</B> <DD><A HREF="../../sjm/engine/Comparison.html">Comparison</A>, <A HREF="../../sjm/engine/ConsultingNot.html">ConsultingNot</A>, <A HREF="../../sjm/engine/Evaluation.html">Evaluation</A>, <A HREF="../../sjm/examples/sling/FunctionComparison.html">FunctionComparison</A></DD>
</DL>
<HR>
<DL>
<DT>public abstract class <B>Gateway</B><DT>extends <A HREF="../../sjm/engine/Structure.html">Structure</A></DL>

<P>
A Gateway is a structure that can prove its truth at most 
 once before failing. 
 <p>
 Examples of gateways are comparisons, negations, and 
 mathematical evaluations. For example, <code>Age > 
 18</code> is either true or not, it cannot prove itself in 
 more than one way. Also, <code> not married(X)</code> is 
 true only if the structure <code>married(X)</code> cannot 
 prove itself at all. 
 <p>
 The fact that gateways can be true only once is important 
 in rules. For example, a rule might contain: 
 <blockquote><pre>
     ..., plays(jim, Game, Rating), 
         Rating >= 7, likes(jane, Game), ... 
 </pre></blockquote> 
 As this rule proves itself, if it finds a game that Jim 
 plays with a rating of, say, 8, the rule will accept that 
 <code>Rating >= 7</code>. The rule will then proceed to 
 prove the structures after the comparison. The rule may 
 succeed with the latter structures many times, but 
 eventually these structures will run out of proofs, and the 
 rule will fail back to the comparison structure. 
 <p>
 On failing back, the rule will ask the comparison for its 
 next proof. This amounts to asking if there is a different 
 way to prove that 8 is greater than or equal to 7. Since 
 the comparison has already succeeded once, which allowed 
 the rule to check the latter structures, on failing back 
 the comparison will fail. This will cause the rule to fail 
 back to the preceding <code>plays</code> structure, which 
 may be able to find other proofs. 
 <p>
 If a preceding structure succeeds, the rule will move 
 forward again, and ask a gateway to prove itself. Since the 
 gateway has failed, it will try again to prove itself.
<P>
<HR>

<P>
<!-- ======== INNER CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Field Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sjm/engine/Gateway.html#open">open</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_sjm.engine.Structure"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Fields inherited from class sjm.engine.<A HREF="../../sjm/engine/Structure.html">Structure</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../sjm/engine/Structure.html#emptyList">emptyList</A>,  
<A HREF="../../sjm/engine/Structure.html#functor">functor</A>,  
<A HREF="../../sjm/engine/Structure.html#terms">terms</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected </CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sjm/engine/Gateway.html#Gateway(java.lang.Object, sjm.engine.Term[])">Gateway</A></B>(java.lang.Object&nbsp;functor,
        <A HREF="../../sjm/engine/Term.html">Term</A>[]&nbsp;terms)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Allows subclasses to use this form of constructor.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sjm/engine/Gateway.html#canFindNextProof()">canFindNextProof</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns true if the gate is closed and this gateway can find a new 
 proof.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sjm/engine/Gateway.html#canProveOnce()">canProveOnce</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns true if the comparison operator holds true between each 
 pair of terms.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sjm/engine/Gateway.html#cleanup()">cleanup</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Insert the method's description here.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_sjm.engine.Structure"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class sjm.engine.<A HREF="../../sjm/engine/Structure.html">Structure</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../sjm/engine/Structure.html#arity()">arity</A>, 
<A HREF="../../sjm/engine/Structure.html#copyForProof(sjm.engine.AxiomSource, sjm.engine.Scope)">copyForProof</A>, 
<A HREF="../../sjm/engine/Structure.html#equals(java.lang.Object)">equals</A>, 
<A HREF="../../sjm/engine/Structure.html#eval()">eval</A>, 
<A HREF="../../sjm/engine/Structure.html#functorAndArityEquals(sjm.engine.Structure)">functorAndArityEquals</A>, 
<A HREF="../../sjm/engine/Structure.html#headAndTail(sjm.engine.Term[], sjm.engine.Term)">headAndTail</A>, 
<A HREF="../../sjm/engine/Structure.html#isList()">isList</A>, 
<A HREF="../../sjm/engine/Structure.html#list(java.lang.Object[])">list</A>, 
<A HREF="../../sjm/engine/Structure.html#list(sjm.engine.Term[])">list</A>, 
<A HREF="../../sjm/engine/Structure.html#list(sjm.engine.Term[], sjm.engine.Term)">list</A>, 
<A HREF="../../sjm/engine/Structure.html#listTailString()">listTailString</A>, 
<A HREF="../../sjm/engine/Structure.html#listTermsToString()">listTermsToString</A>, 
<A HREF="../../sjm/engine/Structure.html#terms()">terms</A>, 
<A HREF="../../sjm/engine/Structure.html#toString()">toString</A>, 
<A HREF="../../sjm/engine/Structure.html#unify(sjm.engine.Structure)">unify</A>, 
<A HREF="../../sjm/engine/Structure.html#unify(sjm.engine.Term)">unify</A>, 
<A HREF="../../sjm/engine/Structure.html#unify(sjm.engine.Variable)">unify</A>, 
<A HREF="../../sjm/engine/Structure.html#variables()">variables</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.Object</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, 
finalize, 
getClass, 
hashCode, 
notify, 
notifyAll, 
wait, 
wait, 
wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Field Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="open"><!-- --></A><H3>
open</H3>
<PRE>
protected boolean <B>open</B></PRE>
<DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="Gateway(java.lang.Object, sjm.engine.Term[])"><!-- --></A><H3>
Gateway</H3>
<PRE>
protected <B>Gateway</B>(java.lang.Object&nbsp;functor,
                  <A HREF="../../sjm/engine/Term.html">Term</A>[]&nbsp;terms)</PRE>
<DL>
<DD>Allows subclasses to use this form of constructor. This typically
 happens when the subclass object is creating an executable copy
 of itself.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>functor</CODE> - the functor for this gateway<DD><CODE>terms</CODE> - the terms of the gateway<DD><CODE>program</CODE> - the program the gateway will prove itself
                    against</DL>
</DD>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="canFindNextProof()"><!-- --></A><H3>
canFindNextProof</H3>
<PRE>
public boolean <B>canFindNextProof</B>()</PRE>
<DL>
<DD>Returns true if the gate is closed and this gateway can find a new 
 proof.
 <p>
 A gateway is a structure that can prove itself in at most one 
 way. After a successful proof, a gateway leaves its gate open.
 <p>
 If the gate is open when this method executes, this method will 
 shut the gate and return false. This occurs after a gateway has 
 proven itself true once, and a rule has failed back to the point 
 where it is asking the gateway for another proof.
 <p>
 If the gate is not open, this gateway will try to prove itself. 
 Then,
 <ul>
 <p><li>
 If the gate is not open and this gateway can prove itself, then 
 this method will return true and leave the gate open. Returning 
 true allows the containing rule to go on to prove whatever 
 structures follow this one. When the rule fails back to this 
 gateway, the gate will be open, and at that time this gateway 
 will fail.
 <p><li>
 If the gate is not open and this gateway can not prove itself, 
 this method returns false.
 </ul>
 <p>
 Upon leaving the gate closed, this method unbinds any variables 
 that instantiated as part of this gateway's proof. This method 
 also sets rule checking to begin again at the first program rule, 
 upon the next request for a proof sent to this gateway.<DD><DL>
<DT><B>Overrides:</B><DD><A HREF="../../sjm/engine/Structure.html#canFindNextProof()">canFindNextProof</A> in class <A HREF="../../sjm/engine/Structure.html">Structure</A></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>depth</CODE> - the depth at which to print tracing information<DT><B>Returns:</B><DD>true   if the gate is closed and this gateway can find a 
                  new proof</DL>
</DD>
</DL>
<HR>

<A NAME="canProveOnce()"><!-- --></A><H3>
canProveOnce</H3>
<PRE>
public boolean <B>canProveOnce</B>()</PRE>
<DL>
<DD>Returns true if the comparison operator holds true between each 
 pair of terms.
 <p>
 This method recovers the comparison operator from the Token which
 is the functor for this Comparison. This method applies this 
 comparison to each pair of terms. That is, this method compares
 term 0 with term 1, term 1 with term 2, term 2 with term 3, and
 so on. This method returns true if the comparison holds between
 each adjacent pair of terms.
 <p>
 If a term is a variable, this method uses the term's ground value
 in the comparison.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>depth</CODE> - the depth at which to print trace information</DL>
</DD>
</DL>
<HR>

<A NAME="cleanup()"><!-- --></A><H3>
cleanup</H3>
<PRE>
protected void <B>cleanup</B>()</PRE>
<DL>
<DD>Insert the method's description here.
 Creation date: (12/7/99 11:09:44 AM)</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_bottom"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT ID="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT ID="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/Gateway.html"><FONT ID="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT ID="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-files/index-1.html"><FONT ID="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT ID="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
by Steve Metsker</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../sjm/engine/Fact.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../sjm/engine/Not.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Gateway.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY: &nbsp;INNER&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL: &nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>

</BODY>
</HTML>
